/*! project-name v0.0.1 | (c) 2020 Francuski Miroslav | MIT License | http://link-to-your-git-repo.com */
class Book{constructor(e,t,o){this.title=e,this.author=t,this.isbn=o}}class UI{static displayBooks(){Store.getBooks().forEach(e=>UI.addBookToList(e))}static addBookToList(e){const t=document.querySelector("#book-list"),o=document.createElement("tr");o.classList.add("book-row"),o.dataset.isbn=e.isbn,o.innerHTML=`\n      <td>${e.title}</td>\n      <td>${e.author}</td>\n      <td>${e.isbn}</td>\n      <td><a href="#" class="btn btn-danger btn-sm delete" data-isbn="${e.isbn}">X</a></td>\n    `,t.appendChild(o)}static deleteBook(e){if(e.classList.contains("delete")){const t=e.dataset.isbn;document.querySelector(`.book-row[data-isbn="${t}"]`).remove()}}static showAlert(e,t){const o=document.createElement("div");o.className=`alert alert-${t}`,o.appendChild(document.createTextNode(e));const s=document.querySelector(".container"),r=document.querySelector("#book-form");s.insertBefore(o,r),setTimeout(()=>document.querySelector(".alert").remove(),3e3)}static clearFields(){document.querySelector("#title").value="",document.querySelector("#author").value="",document.querySelector("#isbn").value=""}}class Store{static getBooks(){let e;return e=null===localStorage.getItem("books")?[]:JSON.parse(localStorage.getItem("books"))}static addBook(e){const t=Store.getBooks();t.push(e),localStorage.setItem("books",JSON.stringify(t))}static removeBook(e){const t=Store.getBooks();t.forEach((o,s)=>{o.isbn===e&&t.splice(s,1)}),localStorage.setItem("books",JSON.stringify(t))}}document.addEventListener("DOMContentLoaded",UI.displayBooks),document.querySelector("#book-form").addEventListener("submit",e=>{e.preventDefault();const t=document.querySelector("#title").value,o=document.querySelector("#author").value,s=document.querySelector("#isbn").value;if(""===t||""===o||""===s)UI.showAlert("Please fill in all fields","danger");else{const e=new Book(t,o,s);UI.addBookToList(e),Store.addBook(e),UI.showAlert("Book Added","success"),UI.clearFields()}}),document.querySelector("#book-list").addEventListener("click",e=>{UI.deleteBook(e.target),Store.removeBook(e.target.parentElement.previousElementSibling.textContent),UI.showAlert("Book Removed","success")});